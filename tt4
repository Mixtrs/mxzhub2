local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "Acceleration Toggle",
    LoadingTitle = "Rayfield UI Library",
    LoadingSubtitle = "Example Script",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = nil,
        FileName = "AccelerationScript"
    }
})

local MainTab = Window:CreateTab("Main", 4483362458)

local accelerationEnabled = false
local normalSpeed = 16 -- Default walking speed
local boostedSpeed = 50 -- Walk speed when buttons are pressed

MainTab:CreateToggle({
    Name = "Enable Acceleration",
    CurrentValue = false,
    Flag = "AccelerationToggle",
    Callback = function(Value)
        accelerationEnabled = Value
        if not accelerationEnabled then
            local Player = game.Players.LocalPlayer
            local Character = Player.Character or Player.CharacterAdded:Wait()
            local Humanoid = Character:FindFirstChild("Humanoid")
            if Humanoid then
                Humanoid.WalkSpeed = normalSpeed
            end
        end
    end,
})

local Player = game.Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local UserInputService = game:GetService("UserInputService")

game:GetService("RunService").RenderStepped:Connect(function()
    if accelerationEnabled then
        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.ButtonR2) then
            Humanoid.WalkSpeed = boostedSpeed
        else
            Humanoid.WalkSpeed = normalSpeed
        end
    end
end)
