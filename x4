local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "DribbleBoyz",
    Icon = 0,  -- No icon
    LoadingTitle = "Rayfield Interface Suite",
    LoadingSubtitle = "by Sirius",
    Theme = "Amethyst",  -- You can customize themes
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "MXZ", -- Custom folder name
        FileName = "HUB"
    },
    KeySystem = false,  -- If you need a key system
    KeySettings = {
        Title = "Key System",
        Subtitle = "Enter your key",
        Note = "No method of obtaining the key is provided",
        FileName = "Key",
        SaveKey = true,
        Key = {"Muzz"}  -- The accepted key for the system
    }
})

-- Create tabs
local TabMain = Window:CreateTab("Main", "rewind")

-- Variables
local accelerationEnabled = false
local accelerationAmount = 0
local baseWaitTimer = 0.01
local minSpeed = 16
local maxSpeed = 50
local waitTimer = baseWaitTimer
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Function to handle acceleration on key/button press
local function enableAcceleration()
    humanoid.WalkSpeed = math.min(humanoid.WalkSpeed + accelerationAmount, maxSpeed)
end

-- Function to reset speed
local function resetSpeed()
    humanoid.WalkSpeed = minSpeed
end

-- Function to connect input handlers
local function setupInputHandlers()
    UserInputService.InputBegan:Connect(function(input, isProcessed)
        if not isProcessed and accelerationEnabled then
            if input.KeyCode == Enum.KeyCode.LeftShift or input.KeyCode == Enum.KeyCode.ButtonR2 then
                enableAcceleration()
            end
        end
    end)

    UserInputService.InputEnded:Connect(function(input, isProcessed)
        if not isProcessed and accelerationEnabled then
            if input.KeyCode == Enum.KeyCode.LeftShift or input.KeyCode == Enum.KeyCode.ButtonR2 then
                resetSpeed()
            end
        end
    end)
end

-- Initialize input handlers
setupInputHandlers()

local Toggle = TabMain:CreateToggle({
    Name = "Enable Acceleration",
    CurrentValue = false,
    Flag = "Toggle2", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(value)
        accelerationEnabled = value
        if not value then
            resetSpeed() -- Ensure speed resets when the toggle is turned off
        end
    end
})

local Slider = TabMain:CreateSlider({
    Name = "Acceleration",
    Range = {0, 100},
    Increment = 1,
    Suffix = "Units", -- Optional: change this to suit your preference
    CurrentValue = accelerationAmount, -- Use the default acceleration amount here
    Flag = "AccelerationSlider", -- Ensure this is unique if saving configuration
    Callback = function(value)
        accelerationAmount = value
    end,
})

local Button = TabMain:CreateButton({
    Name = "Exit Hub",
    Callback = function()
        Rayfield:Destroy()  -- To destroy the Rayfield window
    end
})
